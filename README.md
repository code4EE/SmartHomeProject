# 简易智能家居项目
> 说明: 此项目(SmartHomeProject)是本人平时的课设作业之一,本着开源精神将其分享出来，有觉得需要改进的地方欢迎PR, 
>觉得此项目辣鸡的请移步, 另外项目并没有使用到WiFi和ZigBee等模块,获取硬件的数据完全是通过串口传输,介意的可以自己
>将项目下载再改进,觉得帮助到你的给个star可行?

### 项目效果如何?
做的时候忘记拍视频了,但是答辩的时候老师给我拍了一个,上传到B站去了,就16秒,[地址在这](https://www.bilibili.com/video/BV1bb4y1Q7DV/) ,
<br>
安卓端的界面演示也在[B站](https://www.bilibili.com/video/BV1eh411S7q2/) ,刚刚拍的...

### 一、总体思路
【安卓端】安卓端设计好界面之后,就放了两个Service后台服务，一个是去获取心知天气的Api,从而得到各大城市的温度(免费版心知天气只能获取到后两天的天气预报,这也是视频下方四个天气预报中只有两个是正确的原因,可以修改成自己想要的API),
另外一个service就是通过socket去获取云服务器中的数据从而显示到界面(该数据只是温度显示数据,来源于硬件端温度传感器的实时数据),同时也能发送指令到云服务器,再由云服务器转发到硬件端从而实现APP控制灯的亮灭和风扇的开关;<br>
> 【不是很会写安卓,所以要是觉得项目设计得很菜就抱歉了,对了,我还脑筋抽了选择了kotlin混着java写,所以导入项目的时候可能会下载kotlin插件...没有用过kotlin的请换成java代码】

<br>
<br>
【云服务器端】使用的是阿里云,然后安排好MySQL数据库,然后编写连接和处理socket的代码,当网关端(也就是我的电脑端)从串口读取温度传感器的数据
的时候,就会立即发送到云服务器,云服务器收到数据之后就将数据存到数据库中,等APP端连接到来时再将最新的数据发送过去,从而实现数据更新.
<br>
<br>
【网关端】开头说明已经说了没有用到WIFI和ZigBee等模块,因为本人没有这些模块...,所以用我个人电脑(Windows 10)作为了网关,收集硬件数据和发送指令都是
通过串口来实现的; 串口代码用的是java, 第三方jar包用的是Rxtxcomm, jar包本仓库一同送上 <br >
使用的时候发现本地java环境用JDK 1.8是最合适的,
需要拷贝rxtxSerial.dll 到 JAVA_HOME\jre\bin目录中;拷贝rxtxParallel.dll 到 JAVA_HOME\jre\bin目录中；再将jar包作为依赖放入自己的项目中.
<br>
<br>
【硬件Arduino端】没啥好说的,DS18B20温度模块获取数据,用了伪多线程protoThread,代码就几十行

### 二、需要准备的材料
【硬件端】使用的是Arduino Uno R3开发板克隆版(非原版,原版贵...,感兴趣的旁友推荐尝试ESP32开发板,双核)、DS18B20温度传感器、LED小灯和220Ω电阻、
D9110风扇模块,没了,都说了简易版,没有钱钱了...
<br>
【云服务器】云服务器一个,啥版本都行,我用的是阿里云 CentOS7
<br>
【APP端】手机一个...
<br>
【网关端】装好java环境,下载好Rxtxcomm jar包的电脑一个

### 三、设计的过程
没有记录,直接看代码吧